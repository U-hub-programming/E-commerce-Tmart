{% extends 'layout.html' %}
{% load static %}
{% load social_share %}

{% block css %}
    <link rel="stylesheet" href="{% static 'custom_css/product_details.css'  %}">
    <script src="https://kit.fontawesome.com/acf2e7cb15.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://unpkg.com/xzoom/dist/xzoom.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.css" />
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick-theme.css" />
    <style>
        .slick-arrow:before { color: #000 !important; }
    </style>
{% endblock css %}

{% block content %}

<!-- Start Bradcaump area -->
<div class="ht__bradcaump__area"
    style="background: rgba(0, 0, 0, 0) url({% static 'images/bg/2.jpg' %}) no-repeat scroll center center / cover ;">
    <div class="ht__bradcaump__wrap">
        <div class="container">
            <div class="row">
                <div class="col-xs-12">
                    <div class="bradcaump__inner text-center">
                        <h2 class="bradcaump-title">Product Details</h2>
                        <nav class="bradcaump-inner">
                            <a class="breadcrumb-item" href="{% static 'index' %}">Home</a>
                            <span class="brd-separetor">/</span>
                            <span class="breadcrumb-item active">Product Details</span>
                        </nav>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- End Bradcaump area -->
<!-- Start Product Details -->
<section class="htc__product__details pt--120 pb--100 bg__white">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-lg-6 col-sm-12 col-xs-12">
                <div class="product__details__container">
                    <div class="product__big__images">
                    </div>
                </div>
            </div>
            <div class="col-md-6 col-lg-6 col-sm-12 col-xs-12 smt-30 xmt-30">
                <div class="htc__product__details__inner">
                    <div class="pro__detl__title">
                        <h2 id="productIdElement" data-id="{{ product.id }}">{{ product.name }}</h2>
                    </div>
                    <div class="pro__details">
                        <p>{{ product.detail_description }}</p>
                    </div>
                    <ul class="pro__dtl__prize">
                    </ul>
                    <div class="pro__dtl__color">
                        <h2 class="title__5">Choose Colour</h2>
                        <ul class="pro__choose__color">
                        </ul>
                    </div>
                    <div class="pro__dtl__size">
                        <h2 class="title__5">Size</h2>
                        <ul class="pro__choose__size">
                        </ul>
                    </div>
                    <div class="product-action-wrap">
                        <div class="prodict-statas"><span>Quantity :</span></div>
                        <div class="product-quantity">
                            <form id='myform' method='POST' action='#'>
                                <div class="product-quantity">
                                    <div class="cart-plus-minus">
                                        <input id="quantityInputSection" class="cart-plus-minus-box" type="text" name="qtybutton" data-min="0" data-max="{{product_version.stock_size}}"  value="1">
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                    <ul class="pro__dtl__btn">
                        <li class="buy__now__btn"><a id="addToBasket" data-id = '{{ product_version.id }}'>add to card</a></li>
                        <li><a id="addToWishlist" data-id = '{{ product_version.id }}'><span class="ti-heart"></span></a></li>
                    </ul>
                    <div class="pro__social__share">
                        <h2>Share :</h2>
                        <ul class="pro__soaial__link" style="gap: 1rem;">
                            {% post_to_whatsapp object_or_url %}
                            {% post_to_telegram object_or_url %}
                            {% post_to_twitter 'Product: {{ product.name }}' object_or_url %}
                            {% post_to_gplus object_or_url %}
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
<!-- End Product Details -->
<!-- Start Product tab -->
<section class="htc__product__details__tab bg__white pb--120">
    <div class="container">
        <div class="row">
            <div class="col-md-12 col-lg-12 col-sm-12 col-xs-12">
                <ul class="product__deatils__tab mb--60" role="tablist">
                    <li role="presentation" class="active">
                        <a href="#description" role="tab" data-toggle="tab">Description</a>
                    </li>
                    <li role="presentation">
                        <a href="#sheet" role="tab" data-toggle="tab">Data sheet</a>
                    </li>
                    <li role="presentation">
                        <a href="#reviews" role="tab" data-toggle="tab">Reviews</a>
                    </li>
                </ul>
            </div>
        </div>
        <div class="row">
            <div class="col-md-12">
                <div class="product__details__tab__content">
                    <!-- Start Single Content -->
                    <div role="tabpanel" id="description" class="product__tab__content fade in active">
                        <div class="product__description__wrap">
                            <div class="product__desc">
                                <h2 class="title__6">Details</h2>
                                <p>{{ product.detail_description }}</p>
                            </div>
                            <div class="pro__feature">
                                <h2 class="title__6">Features</h2>
                                {% for feature in features %}
                                    <ul class="feature__list">
                                        <li><a><i class="fa-solid fa-feather"></i><span style="font-size: 16px; margin-right: 1rem; font-weight: 500;">{{ feature.name }}:</span> {{  feature.feature }}</a></li>
                                    </ul>
                                {% endfor %}
                            </div>
                        </div>
                    </div>
                    <!-- End Single Content -->
                    <!-- Start Single Content -->
                    <div role="tabpanel" id="sheet" class="product__tab__content fade">
                        <div class="pro__feature">
                            <h2 class="title__6">Data sheet</h2>
                            <ul class="feature__list">
                                {% for data_sheet in data_sheets %}
                                    <li><a href="{{ data_sheet.data_link }}" target="_blank"><i class="fa-solid fa-link"></i>{{ data_sheet.data }}</a></li>
                                {% endfor %}
                            </ul>
                        </div>
                    </div>
                    <!-- End Single Content -->
                    <!-- Start Single Content -->
                    <div role="tabpanel" id="reviews" class="product__tab__content fade">
                        <div class="review__address__inner" style="margin-bottom: 2rem;">
                            <!-- Start Single Review -->
                            {% for review in reviews %}
                                <div class="pro__review" style="margin-bottom: 4rem;">
                                    <div class="review__thumb" style="width: 70px; height: 70px;">
                                        <img src="{% static 'images/avatar/default_avatar.png' %}"  alt="review images">
                                    </div>
                                    <div class="review__details">
                                        <div class="review__info">
                                            <h4><a href="#">{{ review.name }}</a></h4>
                                            <ul class="rating">
                                                <li><i class="zmdi zmdi-star"></i></li>
                                                <li><i class="zmdi zmdi-star"></i></li>
                                                <li><i class="zmdi zmdi-star"></i></li>
                                                <li><i class="zmdi zmdi-star-half"></i></li>
                                                <li><i class="zmdi zmdi-star-half"></i></li>
                                            </ul>
                                            <div class="rating__send">
                                                <a href="#"><i class="zmdi zmdi-mail-reply"></i></a>
                                                <a href="#"><i class="zmdi zmdi-close"></i></a>
                                            </div>
                                        </div>
                                        <div class="review__date">
                                            <span>{{ review.created_at }}</span>
                                        </div>
                                        <p>{{ review.review }}</p>
                                    </div>
                                </div>
                            {% endfor %}
                            <!-- End Single Review -->
                        </div>
                        <!-- Start RAting Area -->
                        <div class="rating__wrap">
                            <h2 class="rating-title">Write A review</h2>
                        </div>
                        <!-- End RAting Area -->
                        <div class="review__box">
                            <form id="review-form" method="post" enctype="multipart/form-data">
                                {% csrf_token %}
                                <div class="single-review-form">
                                    <div class="review-box name">
                                        {% if review_form.name.errors %}
                                            <div class="alert alert-danger">
                                                {{ review_form.name.errors }}
                                            </div>
                                        {% endif %}
                                        {{ review_form.name }}

                                        {% if review_form.email.errors %}
                                            <div class="alert alert-danger">
                                                {{ review_form.email.errors }}
                                            </div>
                                        {% endif %}
                                        {{ review_form.email }}
                                    </div>
                                </div>
                                <div class="single-review-form">
                                    <div class="review-box message">
                                        {% if review_form.review.errors %}
                                            <div class="alert alert-danger">
                                                {{ review_form.review.errors }}
                                            </div>
                                        {% endif %}
                                        {{ review_form.review }}
                                    </div>
                                </div>
                                <p id="img_label_cst">{{ review_form.img.label }}</p>
                                <div class="single-review-form">
                                    <div class="review-box" id="imgAndRateDiv">
                                        {% if review_form.img.errors %}
                                            <div class="alert alert-danger">
                                                {{ review_form.img.errors }}
                                            </div>
                                        {% endif %}
                                        {{ review_form.img }}
                                        {% if review_form.rate.errors %}
                                            <div class="alert alert-danger">
                                                {{ review_form.rate.errors }}
                                            </div>
                                        {% endif %}
                                        <div class="rating__list">
                                            {{ review_form.rate }}
                                        </div>
                                    </div>
                                </div>
                                <div class="review-btn">
                                    <a class="fv-btn" onclick="document.getElementById('review-form').submit()">submit review</a>
                                </div>
                            </form>
                        </div>
                    </div>
                    <!-- End Single Content -->
                </div>
            </div>
        </div>
    </div>
</section>
<!-- End Product tab -->
<!-- Body main wrapper end -->
<!-- QUICKVIEW PRODUCT -->
<div id="quickview-wrapper">
    <!-- Modal -->
    <div class="modal fade" id="productModal" tabindex="-1" role="dialog">
        <div class="modal-dialog modal__container" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                            aria-hidden="true">&times;</span></button>
                </div>
                <div class="modal-body">
                    <div class="modal-product">
                        <!-- Start product images -->
                        <div class="product-images">
                            <div class="main-image images">
                                <img alt="big images" src="{% static 'images/product/big-img/1.jpg' %}">
                            </div>
                        </div>
                        <!-- end product images -->
                        <div class="product-info">
                            <h1>Simple Fabric Bags</h1>
                            <div class="rating__and__review">
                                <ul class="rating">
                                    <li><span class="ti-star"></span></li>
                                    <li><span class="ti-star"></span></li>
                                    <li><span class="ti-star"></span></li>
                                    <li><span class="ti-star"></span></li>
                                    <li><span class="ti-star"></span></li>
                                </ul>
                                <div class="review">
                                    <a href="#">4 customer reviews</a>
                                </div>
                            </div>
                            <div class="price-box-3">
                                <div class="s-price-box">
                                    <span class="new-price">$17.20</span>
                                    <span class="old-price">$45.00</span>
                                </div>
                            </div>
                            <div class="quick-desc">
                                Designed for simplicity and made from high quality materials. Its sleek geometry and
                                material combinations creates a modern look.
                            </div>
                            <div class="select__color">
                                <h2>Select color</h2>
                                <ul class="color__list">
                                    <li class="red"><a title="Red" href="#">Red</a></li>
                                    <li class="gold"><a title="Gold" href="#">Gold</a></li>
                                    <li class="orange"><a title="Orange" href="#">Orange</a></li>
                                    <li class="orange"><a title="Orange" href="#">Orange</a></li>
                                </ul>
                            </div>
                            <div class="select__size">
                                <h2>Select size</h2>
                                <ul class="color__list">
                                    <li class="l__size"><a title="L" href="#">L</a></li>
                                    <li class="m__size"><a title="M" href="#">M</a></li>
                                    <li class="s__size"><a title="S" href="#">S</a></li>
                                    <li class="xl__size"><a title="XL" href="#">XL</a></li>
                                    <li class="xxl__size"><a title="XXL" href="#">XXL</a></li>
                                </ul>
                            </div>
                            <div class="social-sharing">
                                <div class="widget widget_socialsharing_widget">
                                    <h3 class="widget-title-modal">Share this product</h3>
                                    <ul class="social-icons">
                                        <li><a target="_blank" title="rss" href="#" class="rss social-icon"><i
                                                    class="zmdi zmdi-rss"></i></a></li>
                                        <li><a target="_blank" title="Linkedin" href="#" class="linkedin social-icon"><i
                                                    class="zmdi zmdi-linkedin"></i></a></li>
                                        <li><a target="_blank" title="Pinterest" href="#"
                                                class="pinterest social-icon"><i class="zmdi zmdi-pinterest"></i></a>
                                        </li>
                                        <li><a target="_blank" title="Tumblr" href="#" class="tumblr social-icon"><i
                                                    class="zmdi zmdi-tumblr"></i></a></li>
                                        <li><a target="_blank" title="Pinterest" href="#"
                                                class="pinterest social-icon"><i class="zmdi zmdi-pinterest"></i></a>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                            <div class="addtocart-btn">
                                <a href="#">Add to cart</a>
                            </div>
                        </div><!-- .product-info -->
                    </div><!-- .modal-product -->
                </div><!-- .modal-body -->
            </div><!-- .modal-content -->
        </div><!-- .modal-dialog -->
    </div>
    <!-- END Modal -->
</div>
{% endblock content %}


{% block js %}
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"
    integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
    <script src="https://unpkg.com/xzoom/dist/xzoom.min.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.min.js"></script>
    <script src="{% static 'custom_js/product_detail.js' %}"></script>
    <!-- <script src="{% static 'custom_js/basket.js' %}"></script> -->
{% endblock js %}